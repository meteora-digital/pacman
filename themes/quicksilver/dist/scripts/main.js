!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/themes/quicksilver/dist/scripts/",s(s.s=2)}([function(t,e){function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.attach=function(t,e,s,i){var r=!1,n=!1,o=i||!1;s(),e.split(" ").forEach((function(e){t.addEventListener(e,(function(t){return function(t){o?(r||(r=!0,s(t),setTimeout((function(){return r=0}),o)),clearTimeout(n),n=setTimeout((function(){s()}),o)):s()}(t)}))}))},e.containsClass=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1},e.Event=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var s=document.createEvent("CustomEvent");return s.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),s},e.getTransformValues=function(t){var e=window.getComputedStyle(t).transform.replace("matrix(","").replace(")","").split(",");return{scaleX:parseFloat(e[0]),skewY:parseFloat(e[1]),skewX:parseFloat(e[2]),scaleY:parseFloat(e[3]),translateX:parseFloat(e[4]),translateY:parseFloat(e[5])}},e.loopObject=function(t,e){if(t&&"object"===s(t))for(key in t)e(key,t[key])},e.nodeArray=function(t){for(var e=[],s=0;s<t.length;s++)e.push(t[s]);return e},e.objectAssign=function t(e,i){for(key in e)void 0!==i[key]&&("object"===s(e[key])&&"object"===s(i[key])?t(e[key],i[key]):e[key]=i[key]);for(key in i)"object"===s(e[key])&&"object"===s(i[key])?t(e[key],i[key]):e[key]=i[key];return e},e.offsetY=function(t){for(var e=0;t;)e+=t.offsetTop,t=t.offsetParent;return e},e.parentWithClass=function(t,e){for(var s=t.parentNode;!s.classList.contains(e);)s=s.parentNode;return s},e.relativeTarget=function(t,e){var s=t,i=s.parentNode;if(s!==e){for(;i&&i!==e;)i=i.parentNode;return i===e}return!0},e.stagger=function(t,e){for(var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,i=s,r=0;r<t.length;r++)e(t[r],s),s+=i}},function(t,e,s){},function(t,e,s){"use strict";s.r(e);s(1);class i{constructor(){!function(t,e){for(let s in e.prototype)t.prototype[s]=e.prototype[s]}(i,google.maps.OverlayView)}}function r(t){return Object.keys(t).reduce((e,s)=>(t[s]&&e.push(s+":"+t[s]),e),[]).join(";")}function n(t){return t?t+"px":void 0}class o extends i{constructor(t,e){super(),this.cluster_=t,this.styles_=e,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.style=null,this.setMap(t.getMap())}onAdd(){let t,e;const s=this.cluster_.getMarkerClusterer(),[i,r]=google.maps.version.split("."),n=100*parseInt(i,10)+parseInt(r,10);this.div_=document.createElement("div"),this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",(function(){e=t})),google.maps.event.addDomListener(this.div_,"mousedown",()=>{t=!0,e=!1}),n>=332&&google.maps.event.addDomListener(this.div_,"touchstart",t=>{t.stopPropagation()}),google.maps.event.addDomListener(this.div_,"click",i=>{if(t=!1,!e){if(google.maps.event.trigger(s,"click",this.cluster_),google.maps.event.trigger(s,"clusterclick",this.cluster_),s.getZoomOnClick()){const t=s.getMaxZoom(),e=this.cluster_.getBounds();s.getMap().fitBounds(e),setTimeout((function(){s.getMap().fitBounds(e),null!==t&&s.getMap().getZoom()>t&&s.getMap().setZoom(t+1)}),100)}i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",()=>{google.maps.event.trigger(s,"mouseover",this.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",()=>{google.maps.event.trigger(s,"mouseout",this.cluster_)})}onRemove(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)}draw(){if(this.visible_){const t=this.getPosFromLatLng_(this.center_);this.div_.style.top=t.y+"px",this.div_.style.left=t.x+"px"}}hide(){this.div_&&(this.div_.style.display="none"),this.visible_=!1}show(){this.div_&&(this.div_.className=this.className_,this.div_.style.cssText=this.createCss_(this.getPosFromLatLng_(this.center_)),this.div_.innerHTML=(this.style.url?this.getImageElementHtml():"")+this.getLabelDivHtml(),void 0===this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""),this.visible_=!0}getLabelDivHtml(){return`\n<div aria-label="${this.cluster_.getMarkerClusterer().ariaLabelFn(this.sums_.text)}" style="${r({position:"absolute",top:n(this.anchorText_[0]),left:n(this.anchorText_[1]),color:this.style.textColor,"font-size":n(this.style.textSize),"font-family":this.style.fontFamily,"font-weight":this.style.fontWeight,"font-style":this.style.fontStyle,"text-decoration":this.style.textDecoration,"text-align":"center",width:n(this.style.width),"line-height":n(this.style.textLineHeight)})}" tabindex="0">\n  <span aria-hidden="true">${this.sums_.text}</span>\n</div>\n`}getImageElementHtml(){const t=(this.style.backgroundPosition||"0 0").split(" "),e=parseInt(t[0].replace(/^\s+|\s+$/g,""),10),s=parseInt(t[1].replace(/^\s+|\s+$/g,""),10);let i={};if(this.cluster_.getMarkerClusterer().getEnableRetinaIcons())i={width:n(this.style.width),height:n(this.style.height)};else{const[t,r,n,o]=[-1*s,-1*e+this.style.width,-1*s+this.style.height,-1*e];i={clip:`rect(${t}px, ${r}px, ${n}px, ${o}px)`}}const o=r(Object.assign({position:"absolute",top:n(s),left:n(e)},i));return`<img alt="${this.sums_.text}" aria-hidden="true" src="${this.style.url}" style="${o}"/>`}useStyle(t){this.sums_=t;let e=Math.max(0,t.index-1);e=Math.min(this.styles_.length-1,e),this.style=this.styles_[e],this.anchorText_=this.style.anchorText||[0,0],this.anchorIcon_=this.style.anchorIcon||[Math.floor(this.style.height/2),Math.floor(this.style.width/2)],this.className_=this.cluster_.getMarkerClusterer().getClusterClass()+" "+(this.style.className||"cluster-"+e)}setCenter(t){this.center_=t}createCss_(t){return r({"z-index":`${this.cluster_.getMarkerClusterer().getZIndex()}`,top:n(t.y),left:n(t.x),width:n(this.style.width),height:n(this.style.height),cursor:"pointer",position:"absolute","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-o-user-select":"none","user-select":"none"})}getPosFromLatLng_(t){const e=this.getProjection().fromLatLngToDivPixel(t);return e.x=Math.floor(e.x-this.anchorIcon_[1]),e.y=Math.floor(e.y-this.anchorIcon_[0]),e}}class a{constructor(t){this.markerClusterer_=t,this.map_=this.markerClusterer_.getMap(),this.minClusterSize_=this.markerClusterer_.getMinimumClusterSize(),this.averageCenter_=this.markerClusterer_.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new o(this,this.markerClusterer_.getStyles())}getSize(){return this.markers_.length}getMarkers(){return this.markers_}getCenter(){return this.center_}getMap(){return this.map_}getMarkerClusterer(){return this.markerClusterer_}getBounds(){const t=new google.maps.LatLngBounds(this.center_,this.center_),e=this.getMarkers();for(let s=0;s<e.length;s++)t.extend(e[s].getPosition());return t}remove(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_}addMarker(t){if(this.isMarkerAlreadyAdded_(t))return!1;if(this.center_){if(this.averageCenter_){const e=this.markers_.length+1,s=(this.center_.lat()*(e-1)+t.getPosition().lat())/e,i=(this.center_.lng()*(e-1)+t.getPosition().lng())/e;this.center_=new google.maps.LatLng(s,i),this.calculateBounds_()}}else this.center_=t.getPosition(),this.calculateBounds_();t.isAdded=!0,this.markers_.push(t);const e=this.markers_.length,s=this.markerClusterer_.getMaxZoom();if(null!==s&&this.map_.getZoom()>s)t.getMap()!==this.map_&&t.setMap(this.map_);else if(e<this.minClusterSize_)t.getMap()!==this.map_&&t.setMap(this.map_);else if(e===this.minClusterSize_)for(let t=0;t<e;t++)this.markers_[t].setMap(null);else t.setMap(null);return!0}isMarkerInClusterBounds(t){return this.bounds_.contains(t.getPosition())}calculateBounds_(){const t=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(t)}updateIcon(){const t=this.markers_.length,e=this.markerClusterer_.getMaxZoom();if(null!==e&&this.map_.getZoom()>e)return void this.clusterIcon_.hide();if(t<this.minClusterSize_)return void this.clusterIcon_.hide();const s=this.markerClusterer_.getStyles().length,i=this.markerClusterer_.getCalculator()(this.markers_,s);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(i),this.clusterIcon_.show()}isMarkerAlreadyAdded_(t){if(this.markers_.indexOf)return-1!==this.markers_.indexOf(t);for(let e=0;e<this.markers_.length;e++)if(t===this.markers_[e])return!0;return!1}}const l=(t,e,s)=>void 0!==t[e]?t[e]:s;class h extends i{constructor(t,e=[],s={}){super(),this.options=s,this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.ariaLabelFn=this.options.ariaLabelFn||(()=>""),this.zIndex_=this.options.zIndex||google.maps.Marker.MAX_ZINDEX+1,this.gridSize_=this.options.gridSize||60,this.minClusterSize_=this.options.minimumClusterSize||2,this.maxZoom_=this.options.maxZoom||null,this.styles_=this.options.styles||[],this.title_=this.options.title||"",this.zoomOnClick_=l(this.options,"zoomOnClick",!0),this.averageCenter_=l(this.options,"averageCenter",!1),this.ignoreHidden_=l(this.options,"ignoreHidden",!1),this.enableRetinaIcons_=l(this.options,"enableRetinaIcons",!1),this.imagePath_=this.options.imagePath||h.IMAGE_PATH,this.imageExtension_=this.options.imageExtension||h.IMAGE_EXTENSION,this.imageSizes_=this.options.imageSizes||h.IMAGE_SIZES,this.calculator_=this.options.calculator||h.CALCULATOR,this.batchSize_=this.options.batchSize||h.BATCH_SIZE,this.batchSizeIE_=this.options.batchSizeIE||h.BATCH_SIZE_IE,this.clusterClass_=this.options.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(e,!0),this.setMap(t)}onAdd(){this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.prevZoom_=this.getMap().getZoom(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",()=>{const t=this.getMap(),e=t.minZoom||0,s=Math.min(t.maxZoom||100,t.mapTypes[t.getMapTypeId()].maxZoom),i=Math.min(Math.max(this.getMap().getZoom(),e),s);this.prevZoom_!=i&&(this.prevZoom_=i,this.resetViewport_(!1))}),google.maps.event.addListener(this.getMap(),"idle",()=>{this.redraw_()})]}onRemove(){for(let t=0;t<this.markers_.length;t++)this.markers_[t].getMap()!==this.activeMap_&&this.markers_[t].setMap(this.activeMap_);for(let t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();this.clusters_=[];for(let t=0;t<this.listeners_.length;t++)google.maps.event.removeListener(this.listeners_[t]);this.listeners_=[],this.activeMap_=null,this.ready_=!1}draw(){}setupStyles_(){if(!(this.styles_.length>0))for(let t=0;t<this.imageSizes_.length;t++){const e=this.imageSizes_[t];this.styles_.push(h.withDefaultStyle({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:e,width:e}))}}fitMapToMarkers(){const t=this.getMarkers(),e=new google.maps.LatLngBounds;for(let s=0;s<t.length;s++)!t[s].getVisible()&&this.getIgnoreHidden()||e.extend(t[s].getPosition());this.getMap().fitBounds(e)}getGridSize(){return this.gridSize_}setGridSize(t){this.gridSize_=t}getMinimumClusterSize(){return this.minClusterSize_}setMinimumClusterSize(t){this.minClusterSize_=t}getMaxZoom(){return this.maxZoom_}setMaxZoom(t){this.maxZoom_=t}getZIndex(){return this.zIndex_}setZIndex(t){this.zIndex_=t}getStyles(){return this.styles_}setStyles(t){this.styles_=t}getTitle(){return this.title_}setTitle(t){this.title_=t}getZoomOnClick(){return this.zoomOnClick_}setZoomOnClick(t){this.zoomOnClick_=t}getAverageCenter(){return this.averageCenter_}setAverageCenter(t){this.averageCenter_=t}getIgnoreHidden(){return this.ignoreHidden_}setIgnoreHidden(t){this.ignoreHidden_=t}getEnableRetinaIcons(){return this.enableRetinaIcons_}setEnableRetinaIcons(t){this.enableRetinaIcons_=t}getImageExtension(){return this.imageExtension_}setImageExtension(t){this.imageExtension_=t}getImagePath(){return this.imagePath_}setImagePath(t){this.imagePath_=t}getImageSizes(){return this.imageSizes_}setImageSizes(t){this.imageSizes_=t}getCalculator(){return this.calculator_}setCalculator(t){this.calculator_=t}getBatchSizeIE(){return this.batchSizeIE_}setBatchSizeIE(t){this.batchSizeIE_=t}getClusterClass(){return this.clusterClass_}setClusterClass(t){this.clusterClass_=t}getMarkers(){return this.markers_}getTotalMarkers(){return this.markers_.length}getClusters(){return this.clusters_}getTotalClusters(){return this.clusters_.length}addMarker(t,e){this.pushMarkerTo_(t),e||this.redraw_()}addMarkers(t,e){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&this.pushMarkerTo_(t[e]);e||this.redraw_()}pushMarkerTo_(t){t.getDraggable()&&google.maps.event.addListener(t,"dragend",()=>{this.ready_&&(t.isAdded=!1,this.repaint())}),t.isAdded=!1,this.markers_.push(t)}removeMarker(t,e){const s=this.removeMarker_(t);return!e&&s&&this.repaint(),s}removeMarkers(t,e){let s=!1;for(let e=0;e<t.length;e++){const i=this.removeMarker_(t[e]);s=s||i}return!e&&s&&this.repaint(),s}removeMarker_(t){let e=-1;if(this.markers_.indexOf)e=this.markers_.indexOf(t);else for(let s=0;s<this.markers_.length;s++)if(t===this.markers_[s]){e=s;break}return-1!==e&&(t.setMap(null),this.markers_.splice(e,1),!0)}clearMarkers(){this.resetViewport_(!0),this.markers_=[]}repaint(){const t=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout((function(){for(let e=0;e<t.length;e++)t[e].remove()}),0)}getExtendedBounds(t){const e=this.getProjection(),s=new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()),i=new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()),r=e.fromLatLngToDivPixel(s);r.x+=this.gridSize_,r.y-=this.gridSize_;const n=e.fromLatLngToDivPixel(i);n.x-=this.gridSize_,n.y+=this.gridSize_;const o=e.fromDivPixelToLatLng(r),a=e.fromDivPixelToLatLng(n);return t.extend(o),t.extend(a),t}redraw_(){this.createClusters_(0)}resetViewport_(t){for(let t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();this.clusters_=[];for(let e=0;e<this.markers_.length;e++){const s=this.markers_[e];s.isAdded=!1,t&&s.setMap(null)}}distanceBetweenPoints_(t,e){const s=(e.lat()-t.lat())*Math.PI/180,i=(e.lng()-t.lng())*Math.PI/180,r=Math.sin(s/2)*Math.sin(s/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(e.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))}isMarkerInBounds_(t,e){return e.contains(t.getPosition())}addToClosestCluster_(t){let e=4e4,s=null;for(let i=0;i<this.clusters_.length;i++){const r=this.clusters_[i],n=r.getCenter();if(n){const i=this.distanceBetweenPoints_(n,t.getPosition());i<e&&(e=i,s=r)}}if(s&&s.isMarkerInClusterBounds(t))s.addMarker(t);else{const e=new a(this);e.addMarker(t),this.clusters_.push(e)}}createClusters_(t){if(!this.ready_)return;let e;0===t&&(google.maps.event.trigger(this,"clusteringbegin",this),void 0!==this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),e=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));const s=this.getExtendedBounds(e),i=Math.min(t+this.batchSize_,this.markers_.length);for(let e=t;e<i;e++){const t=this.markers_[e];!t.isAdded&&this.isMarkerInBounds_(t,s)&&(!this.ignoreHidden_||this.ignoreHidden_&&t.getVisible())&&this.addToClosestCluster_(t)}if(i<this.markers_.length)this.timerRefStatic=window.setTimeout(()=>{this.createClusters_(i)},0);else{delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this);for(let t=0;t<this.clusters_.length;t++)this.clusters_[t].updateIcon()}}static CALCULATOR(t,e){let s=0;const i=t.length;let r=i;for(;0!==r;)r=Math.floor(r/10),s++;return s=Math.min(s,e),{text:i.toString(),index:s,title:""}}static withDefaultStyle(t){return Object.assign({textColor:"black",textSize:11,textDecoration:"none",textLineHeight:t.height,fontWeight:"bold",fontStyle:"normal",fontFamily:"Arial,sans-serif",backgroundPosition:"0 0"},t)}}h.BATCH_SIZE=2e3,h.BATCH_SIZE_IE=500,h.IMAGE_PATH="../images/m",h.IMAGE_EXTENSION="png",h.IMAGE_SIZES=[53,56,66,78,90];var c=h,u=s(0);function g(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var m={};function d(t){window.google?(m=Object(u.objectAssign)(m,window.google.maps),t()):setTimeout((function(){return d(t)}),500)}var _=function(){function t(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.locations=s.locations,this.markers=[],this.info=[],this.iconDefaults={path:"M11.672 15.901c-2.734 0-4.952-2.174-4.952-4.857 0-2.682 2.218-4.859 4.952-4.859 2.735 0 4.953 2.177 4.953 4.86 0 2.682-2.218 4.856-4.953 4.856m0-15.9C5.453 0 .411 4.944.411 11.043c0 8.873 11.261 23.73 11.261 23.73s11.26-14.857 11.26-23.73c0-6.1-5.04-11.044-11.26-11.044",fillColor:"#ff3366",fillOpacity:1,anchor:new m.Point(12,36),strokeWeight:0,scale:1},this.settings=Object(u.objectAssign)({locations:[],markers:!0,cluster:!1,clusterIconPath:"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",icon:this.iconDefaults,map:{disableDefaultUI:!1,scrollwheel:!1,zoomControl:!0,zoom:10}},s),void 0===this.settings.map.center&&(this.settings.map.center=this.findCenter()),this.map=new m.Map(this.el,this.settings.map),this.settings.markers&&this.addMarkers()}var e,s,i;return e=t,(s=[{key:"addMarkers",value:function(){var t=this;this.locations.forEach((function(e,s){e.icon&&"string"!=typeof e.icon&&(e.icon.anchor&&(e.icon.anchor=new m.Point(e.icon.anchor[0],e.icon.anchor[1])),e.icon=Object(u.objectAssign)({path:"M11.672 15.901c-2.734 0-4.952-2.174-4.952-4.857 0-2.682 2.218-4.859 4.952-4.859 2.735 0 4.953 2.177 4.953 4.86 0 2.682-2.218 4.856-4.953 4.856m0-15.9C5.453 0 .411 4.944.411 11.043c0 8.873 11.261 23.73 11.261 23.73s11.26-14.857 11.26-23.73c0-6.1-5.04-11.044-11.26-11.044",fillColor:"#ff3366",fillOpacity:1,anchor:new m.Point(12,36),strokeWeight:0,scale:1},e.icon));var i=new m.Marker({id:s,map:t.map,position:e.position,icon:e.icon||t.iconDefaults});i.addListener("click",(function(){t.info[s]&&t.info[s].open(t.map,i)})),t.markers.push(i)})),this.settings.cluster&&(this.settings.cluster=new c(this.map,this.markers,{imagePath:this.settings.clusterIconPath}))}},{key:"filterMarkers",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.locations,s=[];e.forEach((function(e){t.markers.forEach((function(i){e.position.lat===i.position.lat()&&e.position.lng===i.position.lng()?(i.setMap(t.map),s.push(i)):i.setMap(null)}))})),this.map.panTo(this.findCenter(e)),this.updateCluster(s)}},{key:"showAllMarkers",value:function(){var t=this;this.markers.forEach((function(e){e.setMap(t.map)})),this.map.panTo(this.findCenter()),this.updateCluster(this.markers)}},{key:"updateCluster",value:function(t){this.settings.cluster&&(this.settings.cluster.clearMarkers(),this.settings.cluster.addMarkers(t))}},{key:"findCenter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.locations,e={lat:0,lng:0};return t.forEach((function(t){e.lat+=t.position.lat,e.lng+=t.position.lng})),{lat:e.lat/t.length+1,lng:e.lng/t.length+1}}},{key:"infoTemplate",value:function(t){var e=this;this.locations.forEach((function(s){e.info.push(new m.InfoWindow({content:t(s)}))}))}}])&&g(e.prototype,s),i&&g(e,i),t}();m.Load=function(t){return function(t){if(void 0===window.google&&null===document.getElementById("GoogleMapsAPI")){var e=document.createElement("script");e.type="text/javascript",e.id="GoogleMapsAPI",e.src="https://maps.googleapis.com/maps/api/js?key=".concat(t),document.getElementsByTagName("head")[0].appendChild(e)}}(t)},m.Render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(t)},m.Controller=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(window.google)return new _(t,e)};var p=m=m,f={pacman:"themes/quicksilver/dist/images/generated/favicons/android-chrome-144x144.png",black:{fillColor:"#000000"}},v=[{title:"marker 1",icon:"pacman",position:{lat:-36.6049796,lng:174.7828287}},{title:"marker 2",icon:"black",position:{lat:-36.6055996,lng:174.7828287}},{title:"marker 3",position:{lat:-34.1071487,lng:140.6138123}}];v.forEach((function(t){t.icon&&(t.icon=f[t.icon])})),p.Load(""),p.Render((function(){var t=p.Controller(document.querySelector(".js-map"),{locations:v,cluster:!0,icon:{fillColor:"#f39200"},map:{zoom:5}});t.infoTemplate((function(t){return t.title})),setTimeout((function(){t.filterMarkers([v[2],v[0]]),setTimeout((function(){t.showAllMarkers()}),5e3)}),5e3)}))}]);